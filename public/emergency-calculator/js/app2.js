/*!
* © 2018 Mike Sozanski DVM, Dip ABVP
* vetcalculators.com
*/(function(b,g,e){function d(a,c){this.$el=b(a);this.options=b.extend({},f,this.$el.data(),c);this.init()}var f={container:e,childCheckboxes:"input[type=checkbox]",showIndeterminate:!1};d.prototype.init=function(){this._checkChildren();var a=this;this.$el.on("change",function(c){b(a.options.childCheckboxes,a.options.container).not(a.$el).prop("checked",b(this).prop("checked"))});b(this.options.container).on("change",a.options.childCheckboxes,function(b){a._checkChildren()})};b.fn.checkAll=function(a){return this.each(function(){b.data(this,"plugin_checkAll")||b.data(this,"plugin_checkAll",new d(this,a))})};d.prototype._checkChildren=function(){var a=b(this.options.childCheckboxes,this.options.container).not(this.$el).length,c=b(this.options.childCheckboxes,this.options.container).filter(":checked").not(this.$el).length;this.$el.prop("indeterminate",this.options.showIndeterminate&&0<c&&c<a);this.$el.prop("checked",c===a&&0!==a)}})(jQuery,window,document);function checkboxChange(){$('#check-all').trigger('click');$('#check-all').prop('checked',true);$('#check-all').on("click",function(){if(this.checked){$('.printit').prop('checked',true);$('tr.table-row').removeClass('hidden-print');}else{$('.printit').prop('checked',false);$('tr.table-row').addClass('hidden-print');}});$('.printit').on("change",function(){if(this.checked){$(this).parents('tr').removeClass('hidden-print');}else{$(this).parents('tr').addClass('hidden-print');}});$('.printcolumn2 input:checkbox').prop('checked',false);$('.printcolumn2 input:checkbox').on("change",function(){if(this.checked){$(this).parent('tr.table-row').removeClass('hidden-print');}else{$(this).parent().parent().parent('tr.table-row').addClass('hidden-print');}});}
function round(value,decimals){return Number(Math.round(value+"e"+decimals)+"e-"+decimals);}
function aboveRange(){$("input.drug").each(function(index){var drugMax=round($(this).attr("data-max"),5);var error=function(){$(".error-message").fadeOut("slow");};if($(this).val()>drugMax){$(this).siblings(".error-message").fadeIn("slow");$(this).closest(".error-message").fadeIn("slow");$(this).addClass("error-border");setTimeout(error,2e3);}else if($(this).val()<=drugMax){$(this).siblings(".error-message").hide();$(this).removeClass("error-border");}
$(this).on("keyup  change",function(){if($(this).val()>drugMax){$(this).siblings(".error-message").fadeIn("slow");$(this).closest(".error-message").fadeIn("slow");$(this).addClass("error-border");setTimeout(error,2e3);}else if($(this).val()<=drugMax){$(this).siblings(".error-message").hide();$(this).removeClass("error-border");}});});}
function speciesChange(){$("#felineDrugs").on("change",function(){if(this.checked){$('label.feline i.fa.fa-check').fadeIn('slow');$('label.canine i.fa.fa-check').fadeOut('fast');$('.lidoV, .lidoV2,.lidoV3,.lidoV4,.lidoV5,.lidoV6,.lidoV7,.lidoV8').val('1.0');$('.lidoLoad, .lidoLoad2').val('0.1');$('.morphV,.morphS').val('0.03');$('.morphL').val('0.1');$('.morphTextLoading').text('0.10 mg/kg IM');$('.morphTextCRI').text('0.03 mg/kg/hr (0.5 µg/kg/min)');$('.lidoTextLoading').text('0.10-0.25 mg/kg IV');$('.lidoTextCRI').text('0.6-1.5 mg/kg/hr (10-25 µg/kg/min)');$('.speciesText').text('Feline');$('.catDoseAlert').fadeIn('slow');DRUGS();}else{$('.lidoV, .lidoV2,.lidoV3,.lidoV4,.lidoV5,.lidoV6,.lidoV7,.lidoV8').val('1.5');$('.lidoLoad, .lidoLoad2').val('0.5');$('.morphV, .morphS').val('0.12');$('.morphL').val('0.1');$('.speciesText').text('Canine');$('.morphTextLoading').text('0.1 - 0.5 mg/kg IV IM');$('.morphTextCRI').text('0.12 to 0.36 mg/kg/hr (2 to 6 µg/kg/min)');$('.lidoTextLoading').text('0.5 - 1 mg/kg IV');$('.lidoTextCRI').text('0.6 to 3.0 mg/kg/hr (10 to 50 µg/kg/min)');DRUGS();}});}
speciesChange();function mainFunctions(){$(function(){$('[data-toggle="tooltip"]').tooltip();});$('.navbar-nav > li > a.nav-link2').on('click',function(){$('.navbar-collapse').collapse('hide');});$("input.drug, input.cri").each(function(index){$(this).on('keyup click change',function(){var drugMax=$(this).attr("max");if($(this).val()>drugMax){$(this).siblings('.form-error').fadeIn('slow');}else{$(this).siblings('.form-error').fadeOut('fast');}});});$(document).ready(function(){$("input.patient, textarea.patient,select.patient").trigger("change");var pName=$("input.patient, textarea.patient").attr("name"),pValue=$('input[name="'+pName+'"]');var pNameSelect=$("select.patient").attr("name"),pValueSelect=$('select[name="'+pNameSelect+'"]');$(document).on("keyup change",pValue,function(){patientInfo();});$(document).on("change",pValueSelect,function(){patientInfo();});$("input.patient, textarea.patient").each(function(index){var patient=$(this).val();var patientID=$(this).attr("data-id");$(patientID).text(patient);});$("select.patient").each(function(index){var patientSelect=$(this).find("option:selected").text();var patientIDSelect=$(this).attr("data-id");$(patientIDSelect).text(patientSelect);});});function patientInfo(){$("input.patient, textarea.patient").each(function(index){var patient=$(this).val();var patientID=$(this).attr("data-id");$(patientID).text(patient);});$("select.patient").each(function(index){var patientSelect=$(this).find("option:selected").text();var patientIDSelect=$(this).attr("data-id");$(patientIDSelect).text(patientSelect);});}
patientInfo();$('.phoenix-input').phoenix({maxItems:1800,saveInterval:2000,keyAttributes:['tagName','id','name'],clearOnSubmit:'.resetme'});$('.phoenix-input').bind('phnx.loaded',function(e){})
$(function($){new WOW().init();});$(document).on('click','.printme',function(){$(this).each(function(index){var printLink=$(this).data("print");window.print();return false;});});var today=new Date();$('.time').html(today.getHours()+':'+today.getMinutes());$('.weekday').html(today.toDateString().substring(0,3));$('.date').html(today.toDateString());$('[data-toggle="popover"]').popover({html:true,trigger:'focus'});$('.collapse:not(.navbar-collapse)').on('shown.bs.collapse',function(e){var active=$(this).attr('id');var panels=localStorage.panels===undefined?new Array():JSON.parse(localStorage.panels);if($.inArray(active,panels)==-1)
panels.push(active);localStorage.panels=JSON.stringify(panels);});$('.collapse:not(.navbar-collapse)').on('hidden.bs.collapse',function(e){var active=$(this).attr('id');var panels=localStorage.panels===undefined?new Array():JSON.parse(localStorage.panels);var elementIndex=$.inArray(active,panels);if(elementIndex!==-1)
{panels.splice(elementIndex,1);}
localStorage.panels=JSON.stringify(panels);$('.collapse').each(function(){});});var panels=localStorage.panels===undefined?new Array():JSON.parse(localStorage.panels);for(var i in panels){if($("#"+panels[i]).hasClass('collapse'))
{var panelID=$("#"+panels[i]);console.log(panelID);$("#"+panels[i]).collapse('show');$('.patientbutton').html('Hide Patient Info <i class="far fa-clipboard fa-lg fa-fw"></i>');}}
$('.collapse').each(function(){if($(this).hasClass('show')){$(this).removeClass("d-print-none");$('.patientbutton').html('Hide Patient Info  <i class="far fa-clipboard fa-lg fa-fw"></i>');}else{$(this).addClass("d-print-none");$('.patientbutton').html('Enter Patient Info  <i class="far fa-clipboard fa-lg fa-fw"></i>');}});setTimeout(function(){$('.collapse').on('hidden.bs.collapse',function(){$(this).addClass('d-print-none');$('.patientbutton').html('Enter Patient Info  <i class="far fa-clipboard fa-lg fa-fw"></i>');});$('.collapse').on('shown.bs.collapse',function(){$(this).removeClass('d-print-none');$('.patientbutton').html('Hide Patient Info <i class="far fa-clipboard fa-lg fa-fw"></i>');});},500);$('#cpr1').on('shown.bs.collapse',function(){$(".emergencyInfo i").addClass('fa-chevron-up').removeClass('fa-chevron-down');$(this).removeClass('d-print-none');});$('#cpr1').on('hidden.bs.collapse',function(){$(".emergencyInfo i").addClass('fa-chevron-down').removeClass('fa-chevron-up');});$('.collapse').each(function(){$(this).on('shown.bs.collapse',function(){$(this).parents('.criCard').removeClass('d-print-none');});$(this).on('hidden.bs.collapse',function(){$(this).parents('.criCard').addClass('d-print-none');});});}
mainFunctions();fentChange();weightConverter();setdrug();MLK();calcChocTotal();calcChoc();feedCups();aboveRange();$(document).on("click touchstart",".refresh-link",function(){var clicked=$(this);if(clicked.hasClass("refreshing")){return;}
clicked.addClass("refreshing");setTimeout(function(){$(".refresh-link").removeClass("refreshing");},1000);});$(document).ready(function(){setTimeout(function(){$('#check-all').checkAll({childCheckboxes:'.printit',showIndeterminate:true});$('#check-all').trigger('click');$('.printit:not(#check-all)').each(function(){$(this).on("change",function(){if(this.checked){$(this).removeClass('hidden-print').find('i.fa-print').css('color','#212529');}else{$(this).addClass('hidden-print').find('i.fa-print').css('color','#999999');}});});$('.printit2').each(function(){$(this).on("change",function(){if(this.checked){$(this).parents('.dkt').removeClass('hidden-print').find('i.fa-print').css('color','#212529');}else{$(this).parents('.dkt').addClass('hidden-print').find('i.fa-print').css('color','#999999');}});});$('#check-all').on("click",function(){if(this.checked){$('tr.table-row').removeClass('hidden-print').find('i.fa-print').css('color','#212529');}else{$('tr.table-row').addClass('hidden-print').find('i.fa-print').css('color','#999999');}});$('.printit').on('click',function(){var fav,favs=[];$('.printit').each(function(){$(this).on("change",function(){if(this.checked){$(this).parents('tr.table-row').removeClass('hidden-print').find('i.fa-print').css('color','#212529');}else{$(this).parents('tr.table-row').addClass('hidden-print').find('i.fa-print').css('color','#999999');}});fav={id:$(this).attr('name'),value:$(this).prop('checked')};favs.push(fav);});localStorage.setItem("favorites",JSON.stringify(favs));});$(document).ready(function(){var favorites=JSON.parse(localStorage.getItem('favorites'));for(var i=0;i<favorites.length;i++){console.log(favorites[i].value)
$('input[name="'+favorites[i].id+'"]').prop('checked',favorites[i].value);if(favorites[i].value==false){$('input[name="'+favorites[i].id+'"]').parents('tr').addClass('hidden-print').find('i.fa-print').css('color','#999999');}else if(favorites[i].value==true){$('input[name="'+favorites[i].id+'"]').parents('tr').removeClass('hidden-print').find('i.fa-print').css('color','#212529');}}});},300);var today=new Date();$(".time").html(today.getHours()+":"+today.getMinutes());$(".weekday").html(today.toDateString().substring(0,3));$(".dates").html(today.toDateString());});$(document).on("keyup change","#inputKilograms #inputPounds",function(){feedCups();MLK();setdrug();calcChocTotal();calcChoc();});var inputName=$("input.drug").attr("name"),drugValue=$('input[name="'+inputName+'"]');$(document).on("keyup change",drugValue,function(){feedCups();MLK();calcChocTotal();calcChoc();setdrug();});var inputName2=$("input.fluid").attr("name"),drugValue2=$('input[name="'+inputName2+'"]');$(document).on("keyup change",drugValue2,function(){setdrug();MLK();});var inputName3=$("input.shock").attr("name"),drugValue3=$('input[name="'+inputName3+'"]');$(document).on("keyup change",drugValue3,function(){setdrug();MLK();});$(document).on("click",".resetme",function(e){$("form").each(function(index){});$('.phoenix-input').phoenix($(this).data('phoenix-action'));$(".phoenix-input, input.drug").each(function(){var $t=$(this);$t.val($t.data("value"));$t.removeClass("error-border");});$(".error-message").hide();$("#inputKilograms,#inputPounds").val(" ");$("#ounce, #mlkghr").val("1");$("#fluidVol").val("250");$("#chocolate").val("58");$("#bcs").val("0.0");$("#tempF, #tempC").val("");$("#rerDog").val("1.6");$("#rerCat").val("1.2");$("#dropsperml").val("15");$("input.cri, input.drug").removeClass("error-border");$('.label,.vol,.dosage,.rx1.table-danger').text('');clearInput();feedCups();MLK();setdrug();calcChocTotal();calcChoc();e.preventDefault();return e.stopPropagation();});$(document).on("click touchstart",".printme",function(){$(".printme").each(function(index){});});$(document).on("change","#bcs, #rerCat, #rerDog",function(){feedCups();});$(document).on("keyup touchend change","#catCalCups,#dogCalCups",function(){feedCups();});feedCups();$(document).on("change","#fluidVol, #fluidVol1,#dropsperml, #concCRI, #concS, #concDex2, .conc",function(){MLK();setdrug();});$(document).on("click",".resetmeChoc",function(){$("form").each(function(index){$('.phoenix-input').phoenix('remove');});$("#inputKilograms,#inputPounds").val(" ");$("#ounce").val("1");$("#chocolate").val("58");$("#ounce").trigger("change");calcChocTotal();calcChoc();});$("#ounce").trigger("change");$(document).on("keyup change","#ounce #grams",function(){calcChocTotal();calcChoc();});$("#ounce").trigger("change");$(document).on("change","#chocolate",function(){calcChocTotal();calcChoc();});function clearInput(){$('.label,.vol,.dosage,.rx1.table-danger').text('');}
function weightConverter(source,valNum){valNum=parseFloat(valNum);var inputPounds=document.getElementById("inputPounds");var inputKilograms=document.getElementById("inputKilograms");var inputKilogramsVal=parseFloat($(inputKilograms).val());var inputPoundsVal=parseFloat($(inputPounds).val());if(source=="inputPounds"){inputKilograms.value=(valNum/2.2046226218).toFixed(2);if((!inputPoundsVal||!$.isNumeric(inputPoundsVal))){clearInput();}}
if(source=="inputKilograms"){inputPounds.value=(valNum*2.2046226218).toFixed(2);if((!inputKilogramsVal||!$.isNumeric(inputKilogramsVal))){clearInput();}}
MLK();calcChocTotal();calcChoc();setdrug();feedCups();}
function chocConverter(source,valNum){valNum=parseFloat(valNum);var inputOuncesC=document.getElementById("ounce");var inputGramsC=document.getElementById("grams");var inputGramsCVal=parseFloat($(inputGramsC).val());var inputOuncesCVal=parseFloat($(inputOuncesC).val());if(source=="ounce"){inputGramsC.value=parseFloat(valNum/0.035274).toFixed(1);}
if(source=="grams"){inputOuncesC.value=parseFloat(valNum*0.035274).toFixed(1);}
calcChocTotal();calcChoc();}
chocConverter();function temperatureConverter(source,valNum){valNum=parseFloat(valNum);var inputFahrenheit=document.getElementById("tempF");var inputCelsius=document.getElementById("tempC");if(source=="tempF"){inputCelsius.value=((valNum-32)/1.8).toFixed(1);}
if(source=="tempC"){inputFahrenheit.value=(valNum*1.8+32).toFixed(1);}}
function ugmgConverter(source,valNum){valNum=parseFloat(valNum);var inputMg=document.getElementById("mg");var inputUg=document.getElementById("ug");if(source=="mg"){inputUg.value=(valNum*1000).toFixed(4);}
if(source=="ug"){inputMg.value=(valNum/1000).toFixed(4);}}
function lengthConverter(source,valNum){valNum=parseFloat(valNum);var inputInches=document.getElementById("inputInches");var inputcm=document.getElementById("inputcm");if(source=="inputInches"){inputcm.value=(valNum/0.39370).toFixed(2);}
if(source=="inputcm"){inputInches.value=(valNum*0.39370).toFixed(2);}}
function fluidConverter(source,valNum){valNum=parseFloat(valNum);var inputoz=document.getElementById("inputoz");var inputcc=document.getElementById("inputcc");if(source=="inputoz"){inputcc.value=(valNum*29.57353).toFixed(2);}
if(source=="inputcc"){inputoz.value=(valNum/29.57353).toFixed(2);}}
$(document).on("keyup touchend","input#themg",function(){MLK();calcChocTotal();calcChoc();setdrug();feedCups();});$(document).on("change","select.pickDose",function(){MLK();calcChocTotal();calcChoc();setdrug();feedCups();});$('input.drug').add('input.fluid').add('input.shock').on("change keyup",function(){MLK();calcChocTotal();calcChoc();setdrug();feedCups();});function DRUGS(){$("input.drug, input.fluid, input.shock").each(function(i){var inputName=$(this).attr("name"),step=parseFloat($(this).attr("data-step")),min=parseFloat($(this).attr("data-min")),max=parseFloat($(this).attr("data-max")),inputClass=$(this).attr("class"),resultText=$(this).attr("data-ml"),drug=parseFloat($(this).val()).toFixed(3)||0,drugTotal=$(this).attr("data-total"),drugmg=$(this).attr("data-mg"),drugml=$(this).attr("data-ml"),drugconc=parseFloat($(this).attr("data-conc")),appendDose=$(this).attr("data-appendDose"),appendVol=$(this).attr("data-appendVol"),kg=parseFloat($("#inputKilograms").val()).toFixed(2)||0,drugValue=$('input[name="'+inputName+'"]');var multiplier=parseFloat($(this).attr("data-multiply")),fluids=parseFloat(drugconc*kg/24+70/24).toFixed(2),shock=parseFloat(drugconc*kg).toFixed(2),lrs=parseFloat(fluids*multiplier).toFixed(2),lrs2=parseFloat(shock*multiplier).toFixed(2);var drugSum=0;$(".total").each(function(){drugSum+=parseFloat($(this).text().replace(" ml",""),10);});if(inputClass=="fluid"){$(drugml).text(parseFloat(lrs).toFixed(2)).append(appendVol);}else if(inputClass=="shock"){$(drugml).text(parseFloat(lrs2).toFixed(2)).append(appendVol);}else{$(drugml).text(parseFloat(kg*drug/drugconc).toFixed(2)).append(appendVol);$(drugmg).text(parseFloat(kg*drug).toFixed(2)).append(appendDose);$(drugTotal).text(parseFloat(drugSum).toFixed(2));}
var dataMl=parseFloat($(this).val());drugValue.attr({step:step,max:max,min:min});});}
function setdrug(){var kg=parseFloat($("#inputKilograms").val());$("input.fluid").each(function(index){var drug=parseFloat($(this).val()).toFixed(3);var drugml=$(this).attr("data-ml");var drugconc=parseFloat($(this).attr("data-conc"));var appendDose=$(this).attr("data-appendDose");var appendVol=$(this).attr("data-appendVol");var multiplier=parseFloat($(this).attr("data-multiply"));var fluids=parseFloat(drug*kg/24+70/24);var lrs=(fluids*multiplier).toFixed(2);if(!isNaN(kg)){$(drugml).text(parseFloat(lrs).toFixed(2)).append(appendVol);}else{$(drugml).text(" ");}});$("input.shock").each(function(index){var drug=parseFloat($(this).val()).toFixed(3);var drugml=$(this).attr("data-ml");var drugconc=parseFloat($(this).attr("data-conc"));var appendDose=$(this).attr("data-appendDose");var appendVol=$(this).attr("data-appendVol");var multiplier=parseFloat($(this).attr("data-multiply"));var shock=parseFloat(drug*kg);var lrs2=(shock*multiplier).toFixed(2);if(!isNaN(kg)){$(drugml).text(parseFloat(lrs2).toFixed(2)).append(appendVol);}else{$(drugml).text(" ");}});$("input.drug").each(function(index){var drug=parseFloat($(this).val()).toFixed(3)||0;var drugmg=$(this).attr("data-mg");var drugml=$(this).attr("data-ml");var drugconc=parseFloat($(this).attr("data-conc"));var appendDose=$(this).attr("data-appendDose");var appendVol=$(this).attr("data-appendVol");var step=parseFloat($(this).attr("data-step")),min=parseFloat($(this).attr("data-min")),max=parseFloat($(this).attr("data-max"));$(this).attr({step:step,max:max,min:min});if($("#naloxDog").length){var naloxoneT=parseFloat($("#naloxDog").html().replace(" ml","")*3).toFixed(2);var lidoT=parseFloat($("#lidoDog").html().replace(" ml","")*3).toFixed(2);var atroT=parseFloat($("#atroDog").html().replace(" ml","")*3).toFixed(2);var epiT=parseFloat($("#epiDogHi").html().replace(" ml","")*3).toFixed(2);var vasoT=parseFloat($("#vassopressinDog").html().replace(" ml","")*3).toFixed(2);}
if($("#dexdomitorMl").length){var dex=parseFloat($("#dexdomitorMl").html().replace(" ml","")).toFixed(2);}
if($("#dexdomitorMagicMl").length){var dex2=parseFloat($("#dexdomitorMagicMl").html().replace(" ml","")).toFixed(2);}
if($("#dttMl").length){var dtt=parseFloat($("#dttMl").html().replace(" ml","")).toFixed(2);}
if($("#ketamineMagicMl").length){var ket2=parseFloat($("#ketamineMagicMl").html().replace(" ml","")).toFixed(2);}
if($("#butorphanolMagicMl").length){var butorph2=parseFloat($("#butorphanolMagicMl").html().replace(" ml","")).toFixed(2);}
var bsaDogs=parseFloat(Math.pow(kg,0.6667)*10.1/100).toFixed(3);var bsaCats=parseFloat(Math.pow(kg,0.6667)*10.0/100).toFixed(3);var concDex=parseFloat($("#concDex").val()*1000);var concDexL=parseFloat($("#concDexL").val()*1000);var concDexMagic=parseFloat($("#concDexMagic").val()*1000);var concBSR=parseFloat($("#concBSR").val());var concF1=parseFloat($("#concF1").val());var concCRI=parseFloat($("#concCRI").val());var concS=parseFloat($("#concS").val());var enterConc=parseFloat($("#themg").val());var totalMagic=parseFloat(dex2)+parseFloat(ket2)+parseFloat(butorph2);var totalMagic=totalMagic.toFixed(2);if(!isNaN(kg)){parseFloat($('input[name="dexdomitor"]').attr("data-conc",concDex));parseFloat($('input[name="dexdomitor2"]').attr("data-conc",concDexL));parseFloat($('input[name="dexdomitorMagic"]').attr("data-conc",concDexMagic));parseFloat($('input[name="buprenorphinesr"]').attr("data-conc",concBSR));parseFloat($('input[name="buprenorphine"]').attr("data-conc",concF1));parseFloat($('input[name="buprenorphineS"]').attr("data-conc",concS));parseFloat($('input[name="buprenV"]').attr("data-conc",concCRI));parseFloat($('input[name="drugDose"]').attr("data-conc",enterConc));$(drugml).text(parseFloat(kg*drug/drugconc).toFixed(2)).append(appendVol);$(drugmg).text(parseFloat(kg*drug).toFixed(2)).append(appendDose);$("#antiDose").text(dex).append(" ml");$("#atroT").text(atroT).append(" ml");$("#epiT").text(epiT).append(" ml");$("#lidoT").text(lidoT).append(" ml");$("#vasoT").text(vasoT).append(" ml");$("#naloxoneT").text(naloxoneT).append(" ml");$("#antisedanDTTMl").text(dex).append(" ml");$("#antisedanMagicMl").text(dex2).append(" ml");$("#totalMagic").text(totalMagic).append(" ml");$("#bsaDog").val(bsaDogs);$("#bsaCat").val(bsaCats);}else{$(drugmg,drugml).text(" ");}});$("select.pickDose").each(function(index,element){var selectDose=parseFloat($(this).val());var butorphenol=$(".butorphenol").text().replace(" ml","");var ketamine=$(".ketamine").text().replace(" ml","");var dexdomitor=$(".dexdomitor").text().replace(" ml","");});}
function calcChocTotal(){var chocvalue=parseFloat($("#chocolate option:selected").val());var chocvalue2=parseFloat($("#chocolate option:selected").attr("data-value"));var kg=parseFloat($("#inputKilograms").val());var ounce=parseFloat($("#ounce").val());var theo=parseFloat(ounce/kg*chocvalue).toFixed(2);var caff=parseFloat(ounce/kg*chocvalue2).toFixed(2);var total=parseFloat(theo)+parseFloat(caff);var total=parseFloat(total).toFixed(2);if(!isNaN(kg)){$("#toxic").text(theo).append(" mg");$("span.plus").text(" + ");$("span.equal").text(" = ");$("#toxic2").text(caff).append(" mg");$("#toxicTotal").text(total).append(" mg");$("#toxicTotal2").text(total);}else{}}
function calcChoc(){var kg=parseFloat($("#inputKilograms").val());var quota=parseFloat($("#toxicTotal2").text());if(quota>200){$(".red.info").text("Extreme Danger - Death");$("span.red, span.red2").fadeIn();$("span.green,span.yellow").fadeOut("fast");}else if(quota>100){$(".red.info").text("Danger");$("span.red, span.red2").fadeIn();$("span.green,span.yellow").fadeOut("fast");}else if(quota>40&&quota<=100){$(".progress-bar").text("Danger");$("span.red").fadeIn();$("span.red2,span.green,span.yellow").fadeOut("fast");}else if(quota>20&&quota<=40){$(".progress-bar").text("Warning");$("span.yellow").fadeIn();$("span.red,span.red2,span.green").fadeOut("fast");}else if(quota>=0.0001&&quota<=20){$(".progress-bar").text("Safe");$("span.green").fadeIn();$("span.red,span.yellow,span.red2").fadeOut("fast");}else if((quota=isNaN())){$(".progress-bar").text("Enter Weight");$("span.green").fadeOut("fast");$("span.red,span.yellow,span.red2").fadeOut("fast");}}
$(document).on("change","#chocolate",function(){calcChocTotal();calcChoc();});function feedCups(){var kg=parseFloat($("#inputKilograms").val());var lb=parseFloat($("#inputPounds").val());var cups1=parseFloat($("#caloriesCats").text());var totalCups1=parseFloat($("#catCalCups").val());var resultC=parseFloat(cups1/totalCups1).toFixed(1);var cups=parseFloat($("#caloriesDogs").text());var totalCups=parseFloat($("#dogCalCups").val());var resultD=parseFloat(cups/totalCups).toFixed(1);var calDogs=Math.pow(kg,0.75);var RERDogs=70*parseFloat(calDogs);var bcs=parseFloat($("#bcs").val());var idealWeightKG=parseFloat(kg*(1-bcs)).toFixed(2);var idealWeightLB=parseFloat(kg*(1-bcs)*2.2046).toFixed(2);var idealCalc=Math.pow(idealWeightKG,0.75);var idealKcalDogsTotal=(70*parseFloat(idealCalc)).toFixed();var dogRERMultiplier=parseFloat($("#rerDog").val());var RERDog=parseFloat(dogRERMultiplier*idealKcalDogsTotal).toFixed();var idealKcalDogsTotalLoss=(0.8*parseFloat(idealKcalCatsTotal)).toFixed();var bcs2=parseFloat($("#bcs").val());var idealWeightKG2=parseFloat(kg*(1-bcs2)).toFixed(2);var idealWeightLB2=parseFloat(kg*(1-bcs2)*2.2046).toFixed(2);var idealCalc2=Math.pow(idealWeightKG2,0.75);var idealKcalCatsTotal=(70*parseFloat(idealCalc2)).toFixed();var catRERMultiplier=parseFloat($("#rerCat").val());var RERCat=parseFloat(catRERMultiplier*idealKcalCatsTotal).toFixed();var idealKcalCatsTotalLoss=(0.8*parseFloat(idealKcalCatsTotal)).toFixed();var dogMultiplyer=parseFloat($("#rerDog").val());var caloriesDogs=parseFloat(dogMultiplyer)*parseFloat(RERDogs);var caloriesDogs=caloriesDogs.toFixed(2);var calCats=Math.pow(kg,0.75);var RERCats=70*parseFloat(calCats);var catMultiplyer=parseFloat($("#rerCat").val());var caloriesCats=parseFloat(catMultiplyer)*parseFloat(RERCats);var caloriesCats=caloriesCats.toFixed(2);if(!isNaN(resultD)){$(".dogCups").text(resultD);}
if(!isNaN(resultC)){$(".catCups").text(resultC);}
if(!isNaN(kg)){$("#caloriesCats").text(parseFloat(RERCat));$("#caloriesDogs").text(parseFloat(RERDog));$("#idealWeightKGDogs").text(parseFloat(idealWeightKG)).append(' kgs');$("#idealWeightLBDogs").text(parseFloat(idealWeightLB)).append(' lbs');$("#idealWeightKGCats").text(parseFloat(idealWeightKG2)).append(' kgs');$("#idealWeightLBCats").text(parseFloat(idealWeightLB2)).append(' lbs');}}
$("#bcs").on("change",function(){feedCups();});$("#catCalCups").on("keyup touchend",function(){feedCups();});$("#dogCalCups").on("keyup touchend",function(){feedCups();});$("#rerCat").on("change",function(){feedCups();});$("#rerDog").on("change",function(){feedCups();});function MLK2(){var kg=parseFloat($("#inputKilograms").val());var fluidVol=parseFloat($("#fluidVol").val());var fluidVol1=parseFloat($("#fluidVol1").val());var $mlkdose=$("#mlkdose");var dopamineV=parseFloat($('input[name="dopamineDog"]').val());var dobutamineV2=parseFloat($('input[name="dobutamineCat"]').val());var dobutamineV=parseFloat($('input[name="dobutamineDog"]').val());var morphV=parseFloat($('input[name="morphV"]').val());var hydroV=parseFloat($('input[name="hydroV"]').val());var buprenV=parseFloat($('input[name="buprenV"]').val());var butorphV=parseFloat($('input[name="butorphV"]').val());var fentV=parseFloat($('input[name="fentV"]').val());var dexV=parseFloat($('input[name="dexV"]').val());var methV=parseFloat($('input[name="methV"]').val());var morphS=parseFloat($('input[name="morphS"]').val());var hydroS=parseFloat($('input[name="hydroS"]').val());var buprenS=parseFloat($('input[name="buprenS"]').val());var butorphS=parseFloat($('input[name="butorphS"]').val());var fentS=parseFloat($('input[name="fentS"]').val());var dexS=parseFloat($('input[name="dexS"]').val());var methS=parseFloat($('input[name="methS"]').val());var concCRI=parseFloat($("#concCRI").val());var concS=parseFloat($("#concS").val());var mlkghr=parseFloat($("#mlkghr").val());var lidoV=parseFloat($('input[name="lidoV"]').val());var ketV=parseFloat($('input[name="ketV"]').val());var lidoV2=parseFloat($('input[name="lidoV2"]').val());var ketV2=parseFloat($('input[name="ketV2"]').val());var lidoV3=parseFloat($('input[name="lidoV3"]').val());var ketV3=parseFloat($('input[name="ketV3"]').val());var lidoV4=parseFloat($('input[name="lidoV4"]').val());var ketV4=parseFloat($('input[name="ketV4"]').val());var lidoV5=parseFloat($('input[name="lidoV5"]').val());var ketV5=parseFloat($('input[name="ketV5"]').val());var lidoV6=parseFloat($('input[name="lidoV6"]').val());var ketV6=parseFloat($('input[name="ketV6"]').val());var lidoV7=parseFloat($('input[name="lidoV7"]').val());var ketV7=parseFloat($('input[name="ketV7"]').val());var mlkfluids=parseFloat($(".mlkfluids").val());var hydrofluids=parseFloat($(".hydrofluids").val());var buprenfluids=parseFloat($(".buprenfluids").val());var butorphfluids=parseFloat($(".butorphfluids").val());var fentfluids=parseFloat($(".fentfluids").val());var dexfluids=parseFloat($(".dexfluids").val());var mlkLido=parseFloat($(".mlkLido").val());var mlkKet=parseFloat($(".mlkKet").val());var mlkMorph=parseFloat($("#mlkMorph").val());var mlkHydro=parseFloat($("#mlkHydro").val());var mlkBupren=parseFloat($("#mlkBupren").val());var mlkButorph=parseFloat($("#mlkButorph").val());var mlkFent=parseFloat($("#mlkFent").val());var mlkDex=parseFloat($("#mlkDex").val());var mlkMeth=parseFloat($("#mlkMeth").val());var fluidrate=parseFloat(kg*mlkghr).toFixed(2);var dropsperml=parseFloat($('#dropsperml').val());var dropspersec=parseFloat(dropsperml*fluidrate/3600);var secsperdrop=parseFloat(1/dropspersec);console.log(concS);if(!isNaN(kg)){$("#secsperdrop").text(parseFloat(secsperdrop.toFixed(2)));$("#dropspersec").text(parseFloat(dropspersec.toFixed(2)));$("#dopamineDogVol").text(parseFloat(dopamineV*fluidVol/40).toFixed(2)).prepend("+").append("mls");$(".dopaminefluids, .dobutaminefluids").text(parseFloat(kg).toFixed(2)).prepend("@").append("ml\/hr");$("#dobutamineDogVol").text(parseFloat(dobutamineV*fluidVol1/12.5).toFixed(2)).prepend("+").append("mls");$(".mlkfluids, .butorphfluids, .hydrofluids, .buprenfluids, .fentfluids, .dexfluids").text(parseFloat(kg*mlkghr).toFixed(2)).append(" ml\/hr");$("#mlkMorph").text(parseFloat(morphV*fluidVol/15/mlkghr).toFixed(2)).append(" ml");$("#mlkMorphS").text(parseFloat(morphS*fluidVol/15/mlkghr).toFixed(2)).append(" ml");$(".mlkKet").text(parseFloat(ketV*fluidVol/100/mlkghr).toFixed(2)).append(" ml");$(".mlkLido").text(parseFloat(lidoV*fluidVol/20/mlkghr).toFixed(2)).append(" ml");var mlk1=parseFloat($("#mlkMorph").text()).toFixed(2);var mlk2=parseFloat($("#mlkLido").text()).toFixed(2);var mlk3=parseFloat($("#mlkKet").text()).toFixed(2);var mlktotal=parseFloat(mlk1)+parseFloat(mlk2)+parseFloat(mlk3);$("#mlktotal").text(parseFloat(mlktotal).toFixed(2)).append(" mls");$("#mlkHydro").text(parseFloat(hydroV*fluidVol/2/mlkghr).toFixed(2)).append(" ml");$("#mlkHydroS").text(parseFloat(hydroS*fluidVol/2/mlkghr).toFixed(2)).append(" ml");$(".mlkKet2").text(parseFloat(ketV2*fluidVol/100/mlkghr).toFixed(2)).append(" ml");$(".mlkLido2").text(parseFloat(lidoV2*fluidVol/20/mlkghr).toFixed(2)).append(" ml");var hlk1=parseFloat($("#mlkHydro").text()).toFixed(2);var hlk2=parseFloat($("#mlkLido2").text()).toFixed(2);var hlk3=parseFloat($("#mlkKet2").text()).toFixed(2);var hlktotal=(parseFloat(hlk1)+
parseFloat(hlk2)+
parseFloat(hlk3)).toFixed(2);$("#hlktotal").text(parseFloat(hlktotal).toFixed(2)).append(" mls");$("#mlkBupren").text(parseFloat(buprenV*fluidVol/concCRI/mlkghr).toFixed(2)).append(" ml");$("#mlkBuprenS").text(parseFloat(buprenS*fluidVol/concS/mlkghr).toFixed(2)).append(" ml");$(".mlkKet3").text(parseFloat(ketV3*fluidVol/100/mlkghr).toFixed(2)).append(" ml");$(".mlkLido3").text(parseFloat(lidoV3*fluidVol/20/mlkghr).toFixed(2)).append(" ml");var buplk1=parseFloat($("#mlkBupren").text()).toFixed(2);var buplk2=parseFloat($("#mlkLido3").text()).toFixed(2);var buplk3=parseFloat($("#mlkKet3").text()).toFixed(2);var buplktotal=(parseFloat(buplk1)+
parseFloat(buplk2)+
parseFloat(buplk3)).toFixed(2);$("#buptotal").text(parseFloat(buplktotal).toFixed(2)).append(" mls");$("#mlkButorph").text(parseFloat(butorphV*fluidVol/10/mlkghr).toFixed(2)).append(" ml");$("#mlkButorphS").text(parseFloat(butorphS*fluidVol/10/mlkghr).toFixed(2)).append(" ml");$(".mlkKet4").text(parseFloat(ketV4*fluidVol/100/mlkghr).toFixed(2)).append(" ml");$(".mlkLido4").text(parseFloat(lidoV4*fluidVol/20/mlkghr).toFixed(2)).append(" ml");var butlk1=parseFloat($("#mlkButorph").text()).toFixed(2);var butlk2=parseFloat($("#mlkLido4").text()).toFixed(2);var butlk3=parseFloat($("#mlkKet4").text()).toFixed(2);var butlktotal=(parseFloat(butlk1)+
parseFloat(butlk2)+
parseFloat(butlk3)).toFixed(2);$("#buttotal").text(parseFloat(butlktotal).toFixed(2)).append(" mls");$("#mlkFent").text(parseFloat(fentV*fluidVol/0.05/mlkghr).toFixed(2)).append(" ml");$("#mlkFentS").text(parseFloat(fentS*fluidVol/0.05/mlkghr).toFixed(2)).append(" ml");$(".mlkKet5").text(parseFloat(ketV5*fluidVol/100/mlkghr).toFixed(2)).append(" ml");$(".mlkLido5").text(parseFloat(lidoV5*fluidVol/20/mlkghr).toFixed(2)).append(" ml");var fentlk1=parseFloat($("#mlkFent").text()).toFixed(2);var fentlk2=parseFloat($("#mlkLido5").text()).toFixed(2);var fentlk3=parseFloat($("#mlkKet5").text()).toFixed(2);var fentlktotal=(parseFloat(fentlk1)+
parseFloat(fentlk2)+
parseFloat(fentlk3)).toFixed(2);$("#fenttotal").text(parseFloat(fentlktotal).toFixed(2)).append(" mls");$("#mlkDex").text(parseFloat(dexV*fluidVol/0.5/mlkghr).toFixed(2)).append(" ml");$("#mlkDexS").text(parseFloat(dexS*fluidVol/0.5/mlkghr).toFixed(2)).append(" ml");$(".mlkKet6").text(parseFloat(ketV6*fluidVol/100/mlkghr).toFixed(2)).append(" ml");$(".mlkLido6").text(parseFloat(lidoV6*fluidVol/20/mlkghr).toFixed(2)).append(" ml");var dexlk1=parseFloat($("#mlkDex").text()).toFixed(2);var dexlk2=parseFloat($("#mlkLido6").text()).toFixed(2);var dexlk3=parseFloat($("#mlkKet6").text()).toFixed(2);var dexlktotal=(parseFloat(dexlk1)+
parseFloat(dexlk2)+
parseFloat(dexlk3)).toFixed(2);$("#dextotal").text(parseFloat(dexlktotal).toFixed(2)).append(" mls");$("#mlkMeth").text(parseFloat(methV*fluidVol/10/mlkghr).toFixed(2)).append(" ml");$("#mlkMethS").text(parseFloat(methS*fluidVol/10/mlkghr).toFixed(2)).append(" ml");$(".mlkKet7").text(parseFloat(ketV7*fluidVol/100/mlkghr).toFixed(2)).append(" ml");$(".mlkLido7").text(parseFloat(lidoV7*fluidVol/20/mlkghr).toFixed(2)).append(" ml");var methlk1=parseFloat($("#mlkMeth").text()).toFixed(2);var methlk2=parseFloat($("#mlkLido7").text()).toFixed(2);var methlk3=parseFloat($("#mlkKet7").text()).toFixed(2);var methlktotal=(parseFloat(methlk1)+
parseFloat(methlk2)+
parseFloat(methlk3)).toFixed(2);$("#methlktotal").text(parseFloat(methlktotal).toFixed(2)).append(" mls");}else{$("#mlkMorph, #mlkHydro").text(" ");$(".mlkKet").text(" ");$(".mlkLido").text(" ");$mlkdose.text("not a number");}}
function MLK(){$("input.drug, input.cri, input.fluid,input.shock").each(function(i){var kg=parseFloat($("#inputKilograms").val()).toFixed(2)||0;var inputName=$(this).attr("name"),inputClass=$(this).attr("class"),resultMl=$(this).attr("data-ml"),resultMg=$(this).attr("data-mg"),druginputVal=parseFloat($(this).val()).toFixed(3)||0,drugTotal=$(this).attr("data-total"),drugMin=$(this).attr("min"),drugMax=$(this).attr("max"),drugStep=$(this).attr("step"),drugconc=parseFloat($(this).attr("data-conc")),appendDose=$(this).attr("data-appendDose"),appendVol=$(this).attr("data-appendVol"),drugValue=$('input[name="'+inputName+'"]'),multiplier=parseFloat($(this).attr("data-multiply")),fluids=parseFloat(drugconc*kg/24+70/24).toFixed(2),fluids2=parseFloat(druginputVal*kg/24+70/24).toFixed(2),shock=parseFloat(drugconc*kg).toFixed(2),lrs=parseFloat(fluids*multiplier).toFixed(2),lrs2=parseFloat(shock*multiplier).toFixed(2);var dopamineV=parseFloat($('input[name="dopamineDog"]').val());var dobutamineV2=parseFloat($('input[name="dobutamineCat"]').val());var dobutamineV=parseFloat($('input[name="dobutamineDog"]').val());var fluidVol=parseFloat($("#fluidVol").val());var dropsperml=parseFloat($('#dropsperml').val()).toFixed(4);var mlkfluids=parseFloat($(".mlkfluids").val());var mlkghr=parseFloat($("#mlkghr").val());var fluidrate=parseFloat(kg*mlkghr).toFixed(2);var fluidVol1=parseFloat($("#fluidVol1").val());var dropspersec=((dropsperml*fluidrate)/3600).toFixed(2);var secsperdrop=(1/dropspersec).toFixed(2);$("#secsperdrop").text(secsperdrop);$("#dropspersec").text(dropspersec);$("#mlkfluids").text(fluidrate).append(" ml\/hr");$("#dopamineDogVol").text(parseFloat(dopamineV*fluidVol/40).toFixed(1)).prepend("Add ").append(" mls");$(".dopaminefluids, .dobutaminefluids").text(parseFloat(kg).toFixed(1)).append(" ml\/hr");$("#dobutamineDogVol").text(parseFloat(dobutamineV*fluidVol1/12.5).toFixed(1)).prepend("Add ").append(" mls");$('.card.criCard').each(function(index,accordions){var kg=parseFloat($("#inputKilograms").val()).toFixed(2)||0;var sum=0;var $accordions=$(accordions);var $tables=$accordions.find('table.table tbody');var $dose=$tables.find('td.dose');var $success=$dose.find(resultMl+'.label.success');var $success2=$dose.find('span.label.success');var $warning=$dose.find('.label.warning');var $primary=$dose.find(resultMl+'.label.primary');if($('input').hasClass("cri")){$success.text(parseFloat(((druginputVal*fluidVol)/drugconc)/mlkghr).toFixed(2)).append(appendVol);}if($('input').hasClass("drug")){$primary.text(parseFloat((kg*druginputVal/drugconc)).toFixed(2)).append(appendVol);}
var totalDrugs=0;$success2.each(function(i,n){totalDrugs+=parseFloat($(n).text().replace(' mls',''),10).toFixed(2);});$warning.text(parseFloat(totalDrugs).toFixed(2)).append(' mls');});});$('select.conc').each(function(index,element){var concSelect=parseFloat($(this).val());var kg=parseFloat($("#inputKilograms").val()).toFixed(2)||0;var drugToChange=$(this).attr("data-drugToChange");var inputname=$('input'+drugToChange);var drugCRI=$(drugToChange).attr('data-drugCRI');var mlkghr=parseFloat($("#mlkghr").val());var drugV=parseFloat($(drugToChange).val());$(inputname).each(function(index,element){$(this).attr('data-conc',concSelect);});});}
function fentChange(){$("input#anethesia").on("change",function(){if(this.checked){$('input.fentV').attr({min:'0.01'}).val('0.01');$('.fentText').text('0.010-0.045 mg/kg/hr (0.2-0.9 µg/kg/min)');MLK();}else{$('input.fentV').attr({min:'0.001',max:''}).val('0.002');$('.fentText').text('0.002-0.010 mg/kg/hr (0.03-0.2 µg/kg/min)');MLK();}});$("input#awake").on("change",function(){if(this.checked){$('input.fentV').attr({min:'0.001',max:''}).val('0.002');$('.fentText').text('0.002-0.010 mg/kg/hr (0.03-0.2 µg/kg/min)');MLK();}else{$('input.fentV').attr({min:'0.01'}).val('0.01');$('.fentText').text('0.010-0.045 mg/kg/hr (0.2-0.9 µg/kg/min)');MLK();}});$("input#anethesiaS").on("change",function(){if(this.checked){$('input.fentS').attr({min:'0.01'}).val('0.01');$('.fentText').text('0.010-0.045 mg/kg/hr (0.2-0.9 µg/kg/min)');MLK();}else{$('input.fentS').attr({min:'0.001',max:''}).val('0.002');$('.fentText').text('0.002-0.010 mg/kg/hr (0.03-0.2 µg/kg/min)');MLK();}});$("input#awakeS").on("change",function(){if(this.checked){$('input.fentS').attr({min:'0.001',max:''}).val('0.002');$('.fentText').text('0.002-0.010 mg/kg/hr (0.03-0.2 µg/kg/min)');MLK();}else{$('input.fentS').attr({min:'0.01'}).val('0.01');$('.fentText').text('0.010-0.045 mg/kg/hr (0.2-0.9 µg/kg/min)');MLK();}});}
MLK();
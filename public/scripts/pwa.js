"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("_service-worker.js")}),$(document).ready(function(){"use strict";function e(e,n,o){if(o){var i=new Date;i.setTime(i.getTime()+48*o*60*60*1e3);var t="; expires="+i.toGMTString()}else t="";document.cookie=e+"="+n+t+"; path=/"}function n(e){for(var n=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var t=o[i];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(n))return t.substring(n.length,t.length)}return null}$("[data-pwa-version]").data("pwa-version","1.1"),setTimeout(function(){$(".pwa-dismiss").on("click",function(){console.log("User Closed Add to Home / PWA Prompt"),e("kolor_pwa_rejected_install",!0,1),$("body").find("#menu-install-pwa-android, #menu-install-pwa-ios, .menu-hider").removeClass("menu-active")})},1500);var o={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},any:function(){return o.Android()||o.iOS()||o.Windows()}},i=1==window.navigator.standalone;window.matchMedia("(display-mode: standalone)").matches;if(o.Android()){let e;console.log("Android Detected"),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),e=o,console.log("Triggering PWA Prompt for Android"),$("#menu-install-pwa-android, .add-to-home").length&&(n("kolor_pwa_rejected_install")||setTimeout(function(){$(".add-to-home").addClass("add-to-home-visible add-to-home-android"),$("#menu-install-pwa-android, .menu-hider").addClass("menu-active")},1500)),$("#menu-install-pwa-android, .add-to-home").length&&(n("kolor_pwa_rejected_install")||setTimeout(function(){$(".add-to-home").addClass("add-to-home-visible add-to-home-android"),$("#menu-install-pwa-android").addClass("menu-active"),$(".menu-hider").addClass("menu-active")},1500))}),$(".pwa-install").on("click",function(n){e.prompt(),e.userChoice.then(n=>{n.outcome,e=null})}),window.addEventListener("appinstalled",e=>{$("#menu-install-pwa-android, .menu-hider").removeClass("menu-active")})}if(o.iOS()&&(i||(console.log("iOS Detected"),$("#menu-install-pwa-ios, .add-to-home").length&&(n("kolor_pwa_rejected_install")||(console.log("Triggering PWA / Add to Home Screen Prompt for iOS"),setTimeout(function(){$(".add-to-home").addClass("add-to-home-visible add-to-home-ios"),$("#menu-install-pwa-ios, .menu-hider").addClass("menu-active")},1500))))),$("body").on("click",".page-update, .reloadme",function(){location.reload()}),navigator.onLine);else{}function t(){$(".offline-message").addClass("offline-message-active"),$(".online-message").removeClass("online-message-active"),setTimeout(function(){$(".offline-message").removeClass("offline-message-active")},2e3)}function a(){$(".online-message").addClass("online-message-active"),$(".offline-message").removeClass("offline-message-active"),setTimeout(function(){$(".online-message").removeClass("online-message-active")},2e3)}function s(){if($(this).attr("href").match(/.html/))return t(),!1}$(".offline-message").length||($("body").append('<p class="offline-message bg-red2-dark color-white center-text uppercase ultrabold">No internet connection detected</p> '),$("body").append('<p class="online-message bg-green1-dark color-white center-text uppercase ultrabold">You are back online</p>')),$(".simulate-offline").on("click",function(){t()}),$(".simulate-online").on("click",function(){a()}),window.addEventListener("online",function(e){navigator.onLine,a(),console.log("Connection: Online"),$("a").off("click",s)}),window.addEventListener("offline",function(e){t(),$("a").on("click",s),console.log("Connection: Offline")})});